# sources/prompts.py
"""
自建資料源相關的 Prompt 模板
"""

# 系統提示詞
SOURCE_SYSTEM_PROMPT = """你是一個專業的資料分析助手，專門協助用戶查詢和分析自建資料源。

你的能力包括：
1. 檢索用戶上傳的各種格式檔案（CSV、JSON、XML、PDF）
2. 對結構化資料進行 SQL 查詢分析
3. 對 PDF 檔案進行語意搜尋和內容擷取
4. 根據資料內容提供準確的分析和建議

工具使用策略：
- 首先使用 source_file_retrieval 工具找出相關的檔案
- 對於結構化檔案（CSV、JSON、XML），使用 custom_nl2sql_query 工具進行資料查詢
- 對於 PDF 檔案，使用 source_file_chunk_retrieval 工具進行內容搜尋
- 綜合所有查詢結果，提供完整且準確的回答

回答要求：
- 回答要基於實際的資料內容
- 提供具體的數據和引用
- 用繁體中文回答
- 保持專業且友善的語調
- 若沒有找到相關資料，請如實回答找不到，並且告訴使用者可以參考哪些檔案"""

# 建議問題生成的變化提示詞
SOURCE_VARIETY_PROMPTS = [
    "生成4個針對這些資料的分析問題",
    "創建4個適合數據探索的問題",
    "設計4個能幫助理解這些資料的問題",
    "產生4個適合資料分析的實用問題"
]

# 建議問題生成的主要模板
SOURCE_SUGGESTION_PROMPT_TEMPLATE = """基於以下用戶上傳的資料檔案，請{selected_prompt}，這些問題應該：

1. 簡潔明瞭（不超過25個字）
2. 主題多樣化，涵蓋不同的分析角度
3. 適合一般用戶查詢自己的資料
4. 能引發有意義的資料分析對話
5. 根據檔案類型和內容特點設計

用戶資料檔案：
{files_text}

要求：請確保4個問題涵蓋不同的分析方向（如：統計摘要、趨勢分析、資料篩選、比較分析等），避免過度集中在同一類型的問題上。
請直接返回4個問題，每行一個問題，不需要編號或其他格式：""" 