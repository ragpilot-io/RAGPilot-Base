{% extends "admin/change_list.html" %}
{% load i18n admin_urls %}

{% block content_title %}
    <h1>å€‹äººè³‡æ–™ç®¡ç†</h1>
    
    <!-- ç”¨æˆ¶æ•¸é‡çµ±è¨ˆå¡ç‰‡ -->
    {% if user_stats %}
    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid {{ user_stats.status_color }};">
        <h2 style="margin: 0 0 15px 0; color: #333; font-size: 18px;">
            ğŸ“Š ç”¨æˆ¶æ•¸é‡çµ±è¨ˆ
        </h2>
        
        <div style="display: flex; gap: 30px; align-items: center; flex-wrap: wrap;">
            <!-- ç¸½ç”¨æˆ¶æ•¸ -->
            <div style="text-align: center;">
                <div style="font-size: 24px; font-weight: bold; color: #333; margin-bottom: 5px;">
                    {{ user_stats.total_users }}
                </div>
                <div style="font-size: 14px; color: #666;">
                    ç›®å‰ç”¨æˆ¶æ•¸
                </div>
            </div>
            
            <!-- åˆ†éš”ç·š -->
            <div style="height: 40px; width: 1px; background: #ddd;"></div>
            
            <!-- ç”¨æˆ¶ä¸Šé™ -->
            <div style="text-align: center;">
                <div style="font-size: 24px; font-weight: bold; color: #333; margin-bottom: 5px;">
                    {{ user_stats.max_users_limit }}
                </div>
                <div style="font-size: 14px; color: #666;">
                    ç”¨æˆ¶ä¸Šé™
                </div>
            </div>
            
            <!-- åˆ†éš”ç·š -->
            <div style="height: 40px; width: 1px; background: #ddd;"></div>
            
            <!-- å‰©é¤˜åé¡ -->
            <div style="text-align: center;">
                <div style="font-size: 24px; font-weight: bold; color: {{ user_stats.status_color }}; margin-bottom: 5px;">
                    {{ user_stats.remaining_slots }}
                </div>
                <div style="font-size: 14px; color: #666;">
                    å‰©é¤˜åé¡
                </div>
            </div>
            
            <!-- åˆ†éš”ç·š -->
            <div style="height: 40px; width: 1px; background: #ddd;"></div>
            
            <!-- ä½¿ç”¨ç‡ -->
            <div style="text-align: center;">
                <div style="font-size: 24px; font-weight: bold; color: {{ user_stats.status_color }}; margin-bottom: 5px;">
                    {{ user_stats.usage_percentage }}%
                </div>
                <div style="font-size: 14px; color: #666;">
                    ä½¿ç”¨ç‡
                </div>
            </div>
            
            <!-- åˆ†éš”ç·š -->
            <div style="height: 40px; width: 1px; background: #ddd;"></div>
            
            <!-- ç‹€æ…‹ -->
            <div style="text-align: center;">
                <div style="
                    font-size: 16px; 
                    font-weight: bold; 
                    color: white; 
                    background: {{ user_stats.status_color }}; 
                    padding: 8px 16px; 
                    border-radius: 20px;
                    margin-bottom: 5px;
                ">
                    {{ user_stats.status_text }}
                </div>
                <div style="font-size: 14px; color: #666;">
                    ç³»çµ±ç‹€æ…‹
                </div>
            </div>
        </div>
        
        <!-- é€²åº¦æ¢ -->
        <div style="margin-top: 20px;">
            <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                è¨»å†Šé€²åº¦æ¢
            </div>
            <div style="
                width: 100%; 
                height: 12px; 
                background: #e9ecef; 
                border-radius: 6px; 
                overflow: hidden;
            ">
                <div style="
                    width: {{ user_stats.usage_percentage }}%; 
                    height: 100%; 
                    background: {{ user_stats.status_color }}; 
                    transition: width 0.3s ease;
                "></div>
            </div>
        </div>
        
        <!-- è­¦å‘Šè¨Šæ¯ -->
        {% if user_stats.usage_percentage >= 90 %}
        <div style="
            margin-top: 15px; 
            padding: 10px 15px; 
            background: #fff3cd; 
            border: 1px solid #ffeaa7; 
            border-radius: 4px; 
            color: #856404;
        ">
            <strong>âš ï¸ æ³¨æ„ï¼š</strong>
            {% if user_stats.usage_percentage >= 100 %}
                ç³»çµ±å·²é”ç”¨æˆ¶æ•¸é‡ä¸Šé™ï¼Œæ–°ç”¨æˆ¶å°‡ç„¡æ³•é€šé Google è¨»å†Šã€‚
            {% else %}
                ç³»çµ±æ¥è¿‘ç”¨æˆ¶æ•¸é‡ä¸Šé™ï¼Œå»ºè­°é—œæ³¨è¨»å†Šæƒ…æ³ã€‚
            {% endif %}
        </div>
        {% endif %}
        
        <!-- èªªæ˜æ–‡å­— -->
        <div style="margin-top: 15px; font-size: 13px; color: #666; line-height: 1.4;">
            <strong>èªªæ˜ï¼š</strong> 
            ç•¶ç”¨æˆ¶æ•¸é‡é”åˆ°ä¸Šé™æ™‚ï¼Œæ–°ç”¨æˆ¶å°‡ç„¡æ³•é€šé Google ç™»å…¥é€²è¡Œè¨»å†Šï¼Œä½†ç®¡ç†å“¡ä»å¯æ‰‹å‹•å‰µå»ºç”¨æˆ¶å¸³è™Ÿã€‚
            å·²æœ‰å¸³è™Ÿçš„ç”¨æˆ¶é€£çµ Google å¸³è™Ÿä¸å—æ­¤é™åˆ¶å½±éŸ¿ã€‚
        </div>
    </div>
    {% endif %}
{% endblock %}

{% block content %}
    {{ block.super }}
{% endblock %} 